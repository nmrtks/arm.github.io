var RootScript=pc.createScript("rootScript");RootScript.attributes.add("dial",{type:"entity"}),RootScript.attributes.add("img1",{type:"entity"}),RootScript.attributes.add("img2",{type:"entity"}),RootScript.attributes.add("img3",{type:"entity"}),RootScript.attributes.add("btn1",{type:"entity"}),RootScript.attributes.add("btn2",{type:"entity"}),RootScript.prototype.initialize=function(){},RootScript.prototype.update=function(t){var i=-(this.dial.script.msrotate.currentAngle-6)%360/360;this.img1.element.spriteFrame=Math.trunc(30*i),this.img2.element.spriteFrame=Math.trunc(30*i),this.img3.element.spriteFrame=Math.trunc(30*i),this.img2.enabled=this.btn1.script.btntgl.isOn,this.img3.enabled=this.btn2.script.btntgl.isOn};var Msrotate=pc.createScript("msrotate");Msrotate.prototype.initialize=function(){this.app.mouse.disableContextMenu(),this.currentAngle=0,this.canRotate=!1,this.isOverButton=!1,this.dialLimitation=!1,this.entity.setLocalEulerAngles(0,0,this.currentAngle),this.entity.button.on("pressedstart",(function(t){this.isOverButton=!0}),this),this.entity.button.on("mouseenter",(function(t){document.body.style.cursor="grab",this.isOverButton=!0}),this),this.entity.button.on("mouseleave",(function(t){document.body.style.cursor="default",this.isOverButton=!1}),this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.entity.element.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchEnd,this))},Msrotate.prototype.onTouchStart=function(t){if(this.isOverButton){var e=this.entity.element.screenCorners;this.screenPosX=(e[0].x+e[2].x)/2,this.screenPosY=(e[0].y+e[2].y)/2;var s=this.app.graphicsDevice.height;this.screenPosY=s-this.screenPosY,this.clickedAngle=Math.atan2(-(t.touches[0].y-this.screenPosY),t.touches[0].x-this.screenPosX)*(180/Math.PI),this.canRotate=!0}},Msrotate.prototype.onMouseDown=function(t){if(this.isOverButton&&t.button===pc.MOUSEBUTTON_LEFT){var e=this.entity.element.screenCorners;this.screenPosX=(e[0].x+e[2].x)/2,this.screenPosY=(e[0].y+e[2].y)/2;var s=this.app.graphicsDevice.height;this.screenPosY=s-this.screenPosY,this.clickedAngle=Math.atan2(-(t.y-this.screenPosY),t.x-this.screenPosX)*(180/Math.PI),this.canRotate=!0}},Msrotate.prototype.onTouchMove=function(t){if(this.canRotate){var e=Math.atan2(-(t.touches[0].y-this.screenPosY),t.touches[0].x-this.screenPosX)*(180/Math.PI),s=e-this.clickedAngle;s>180?s-=360:s<-180&&(s+=360),this.currentAngle=this.currentAngle+s,this.dialLimitation?this.currentAngle>0?this.currentAngle=0:this.currentAngle<-360&&(this.currentAngle=-360):this.currentAngle>0?this.currentAngle-=360:this.currentAngle<-360&&(this.currentAngle+=360),this.entity.setLocalEulerAngles(0,0,this.currentAngle),this.clickedAngle=e}},Msrotate.prototype.onMouseMove=function(t){if(this.canRotate&&this.app.mouse.isPressed(pc.MOUSEBUTTON_LEFT)){var e=Math.atan2(-(t.y-this.screenPosY),t.x-this.screenPosX)*(180/Math.PI),s=e-this.clickedAngle;s>180?s-=360:s<-180&&(s+=360),this.currentAngle=this.currentAngle+s,this.dialLimitation?this.currentAngle>0?this.currentAngle=0:this.currentAngle<-360&&(this.currentAngle=-360):this.currentAngle>0?this.currentAngle-=360:this.currentAngle<-360&&(this.currentAngle+=360),this.entity.setLocalEulerAngles(0,0,this.currentAngle),this.clickedAngle=e}},Msrotate.prototype.onTouchEnd=function(t){this.canRotate=!1,this.isOverButton=!1},Msrotate.prototype.onMouseUp=function(t){t.button===pc.MOUSEBUTTON_LEFT&&(this.canRotate=!1)},Msrotate.prototype.update=function(t){};pc.script.createLoadingScreen((function(e){var t,a;t=["body {","    background-color: #283538;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #283538;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="https://playcanvas.com/static-assets/images/play_text_252_white.png",t.appendChild(a),a.onload=function(){t.style.display="block"};var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var p=document.createElement("div");p.id="progress-bar",o.appendChild(p)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));pc.script.createLoadingScreen((function(e){var t,a;t=["body {","    background-color: #283538;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #283538;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="",t.appendChild(a),a.onload=function(){t.style.display="block"},t.style.display="block";var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var n=document.createElement("div");n.id="progress-bar",o.appendChild(n)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));var Btntgl=pc.createScript("btntgl");Btntgl.prototype.initialize=function(){this.isOn=!1,this.entity.element.on("click",this.onClick,this),this.updateButtonState()},Btntgl.prototype.onClick=function(){this.isOn=!this.isOn,this.updateButtonState()},Btntgl.prototype.updateButtonState=function(){var t=this.isOn?new pc.Color(1,1,1):new pc.Color(.5,.5,.5);this.entity.element.color=t},Btntgl.prototype.update=function(t){};